{"version":3,"file":"js/780-legacy.b5d6dfb1.js","mappings":"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","sources":["webpack://music/./src/views/songDetails.vue?6058","webpack://music/src/views/songDetails.vue","webpack://music/./src/views/songDetails.vue?5e14","webpack://music/./src/views/songDetails.vue","webpack://music/./src/api/needLogin/musicOperate.js"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"list-wrap\"},[_c('div',{staticClass:\"pageName\"},[_vm._v(\"歌曲详情\")]),_c('div',{staticClass:\"descript\"}),_c('div',[_c('ul',[_c('div',{staticClass:\"details\",attrs:{\"id\":\"like_detail\"}},[_c('div',{staticClass:\"details-img\"},[_c('img',{attrs:{\"src\":_vm.songDetails.al.picUrl,\"alt\":\"\"}})]),_c('div',{staticClass:\"detailsRight\"},[_c('div',{staticStyle:{\"margin-left\":\"0px\",\"text-align\":\"left\",\"font-size\":\"20px\"}},[_vm._v(\" \"+_vm._s(_vm.songDetails.name)+\" \"),_c('div',{staticStyle:{\"display\":\"inline-block\"}},[_c('button',{staticClass:\"my-button\",on:{\"click\":function($event){return _vm.likeMusic(_vm.songDetails.id, true)}}},[_vm._v(\" 喜欢\"),_c('i',{staticClass:\"iFont el-icon-star-on iconhover\"})]),_c('button',{staticClass:\"my-button\",on:{\"click\":function($event){return _vm.likeMusic(_vm.songDetails.id, false)}}},[_vm._v(\" 不喜欢了\"),_c('i',{staticClass:\"iFont el-icon-star-off iconhover\"})])])]),_c('div',{staticStyle:{\"margin\":\"10px 0 10px 0\",\"height\":\"30px\",\"font-size\":\"14px\"}},[_c('span',{staticClass:\"playListNickName\",on:{\"click\":function($event){return _vm.goSingerDetail(_vm.songDetails.ar[0].id)}}},[_vm._v(_vm._s(_vm.songDetails.ar[0].name))]),_c('span',[_c('br'),_vm._v(\" 时长  -  \"),_c('span',{staticStyle:{\"color\":\"antiquewhite\"}},[_vm._v(_vm._s(_vm.songDetails.dt))])]),_c('div',{staticClass:\"option\"},[_c('div',{staticClass:\"flexBetween\"},[_c('span',{staticClass:\"inline-block\",staticStyle:{\"margin-right\":\"5px\"},on:{\"click\":function($event){return _vm.listenMusic(_vm.songDetails)}}},[_c('i',{staticClass:\"el-icon-headset iconhover\"})]),(_vm.songDetails.fee === 0 || _vm.songDetails.fee === 8)?_c('span',{staticClass:\"inline-block\",staticStyle:{\"margin-right\":\"5px\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.playMusic(_vm.songDetails)}}},[_c('i',{staticClass:\"el-icon-folder-add iconhover\"})]):_vm._e(),(Boolean(_vm.songDetails.mv))?_c('span',{staticClass:\"inline-block\",on:{\"click\":function($event){return _vm.playMV(_vm.songDetails.mv)}}},[_c('i',{staticClass:\"el-icon-video-camera iconhover\"}),_vm._v(\"  \")]):_vm._e(),(_vm.songDetails.fee === 0 || _vm.songDetails.fee === 8)?_c('span',{staticClass:\"inline-block\",staticStyle:{\"margin-right\":\"5px\"},on:{\"click\":function($event){return _vm.getDownloadUrl(_vm.songDetails.id, _vm.songDetails.name)}}},[_c('i',{staticClass:\"el-icon-download iconhover\"}),_vm._v(\" \")]):_vm._e(),(_vm.songDetails.fee !== 0)?_c('span',[_vm._v(\"    \")]):_vm._e()])])]),_c('div',{staticStyle:{\"margin-top\":\"30px\",\"font-size\":\"14px\"}},[_c('span',[_vm._v(_vm._s(_vm.songDetails.alia[0]))])]),_c('br')])]),_c('div',{staticStyle:{\"padding\":\"0px 50px\"}},[_c('div',{staticClass:\"countLine\"},[(_vm.commentCount)?_c('span',[_vm._v(\"评论(\"+_vm._s(_vm.commentCount)+\"条)\")]):_vm._e()]),_vm._l((_vm.songComment),function(item){return _c('div',{key:item.id,staticClass:\"hoverBackColor\"},[_c('img',{staticStyle:{\"width\":\"50px\",\"border-radius\":\"25px\"},attrs:{\"src\":item.user.avatarUrl}}),_c('span',{staticStyle:{\"display\":\"inline-block\",\"margin-left\":\"10px\",\"font-size\":\"15px\"}},[_vm._v(_vm._s(item.user.nickname)+\"  :  \")]),_c('span',{staticStyle:{\"margin-left\":\"20px\",\"width\":\"750px\"}},[_vm._v(\" \"+_vm._s(item.content)+\" \")]),_c('div',{staticStyle:{\"height\":\"30px\"}},[_c('span',{staticStyle:{\"float\":\"right\",\"width\":\"130px\"}},[_vm._v(\"  时间：\"+_vm._s(item.timeStr))]),_c('span',{staticStyle:{\"float\":\"right\"}},[_vm._v(_vm._s(item.likedCount)+\" 赞   \")])])])}),_c('div',{staticClass:\"pagination\"},[(_vm.commentCount !== 0)?_c('el-pagination',{attrs:{\"current-page\":_vm.currentPage,\"page-size\":7,\"layout\":\"prev, pager, next, jumper\",\"total\":_vm.commentCount,\"background\":true},on:{\"current-change\":_vm.songhandleCurrentChange,\"update:currentPage\":function($event){_vm.currentPage=$event},\"update:current-page\":function($event){_vm.currentPage=$event}}}):_vm._e()],1)],2)])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"list-wrap\">\r\n    <div class=\"pageName\">歌曲详情</div>\r\n    <div class=\"descript\"></div>\r\n    <div>\r\n      <ul>\r\n        <div id=\"like_detail\" class=\"details\">\r\n          <div class=\"details-img\">\r\n            <img :src=\"songDetails.al.picUrl\" alt=\"\" />\r\n          </div>\r\n          <div class=\"detailsRight\">\r\n            <div style=\"margin-left: 0px; text-align: left; font-size: 20px\">\r\n              {{ songDetails.name }}\r\n              <div style=\"display: inline-block\">\r\n                <button\r\n                  class=\"my-button\"\r\n                  @click=\"likeMusic(songDetails.id, true)\"\r\n                >\r\n                  喜欢<i class=\"iFont el-icon-star-on iconhover\"></i></button\r\n                ><button\r\n                  class=\"my-button\"\r\n                  @click=\"likeMusic(songDetails.id, false)\"\r\n                >\r\n                  不喜欢了<i class=\"iFont el-icon-star-off iconhover\"></i>\r\n                </button>\r\n              </div>\r\n            </div>\r\n            <div style=\"margin: 10px 0 10px 0; height: 30px; font-size: 14px\">\r\n              <span\r\n                class=\"playListNickName\"\r\n                @click=\"goSingerDetail(songDetails.ar[0].id)\"\r\n                >{{ songDetails.ar[0].name }}</span\r\n              ><span\r\n                ><br />\r\n                时长&nbsp;&nbsp;-&nbsp;&nbsp;<span\r\n                  style=\"color: antiquewhite\"\r\n                  >{{ songDetails.dt }}</span\r\n                ></span\r\n              >\r\n              <div class=\"option\">\r\n                <div class=\"flexBetween\">\r\n                  <!-- 试听 -->\r\n                  <span\r\n                    class=\"inline-block\"\r\n                    style=\"margin-right: 5px\"\r\n                    @click=\"listenMusic(songDetails)\"\r\n                    ><i class=\"el-icon-headset iconhover\"></i\r\n                  ></span>\r\n                  <!-- 添加到播放列表 -->\r\n                  <span\r\n                    class=\"inline-block\"\r\n                    style=\"margin-right: 5px\"\r\n                    v-if=\"songDetails.fee === 0 || songDetails.fee === 8\"\r\n                    @click.stop=\"playMusic(songDetails)\"\r\n                    ><i class=\"el-icon-folder-add iconhover\"></i>\r\n                  </span>\r\n                  <span\r\n                    class=\"inline-block\"\r\n                    style=\"\"\r\n                    v-if=\"Boolean(songDetails.mv)\"\r\n                    @click=\"playMV(songDetails.mv)\"\r\n                    ><i class=\"el-icon-video-camera iconhover\"></i>&nbsp;\r\n                  </span>\r\n\r\n                  <span\r\n                    class=\"inline-block\"\r\n                    style=\"margin-right: 5px\"\r\n                    v-if=\"songDetails.fee === 0 || songDetails.fee === 8\"\r\n                    @click=\"getDownloadUrl(songDetails.id, songDetails.name)\"\r\n                    ><i class=\"el-icon-download iconhover\"></i>&nbsp;</span\r\n                  ><span v-if=\"songDetails.fee !== 0\">&nbsp;&nbsp;&nbsp; </span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div style=\"margin-top: 30px; font-size: 14px\">\r\n              <span>{{ songDetails.alia[0] }}</span>\r\n            </div>\r\n            <br />\r\n          </div>\r\n        </div>\r\n\r\n        <div style=\"padding: 0px 50px\">\r\n          <div class=\"countLine\">\r\n            <span v-if=\"commentCount\">评论({{ commentCount }}条)</span>\r\n          </div>\r\n          <div\r\n            class=\"hoverBackColor\"\r\n            v-for=\"item in songComment\"\r\n            :key=\"item.id\"\r\n          >\r\n            <img\r\n              :src=\"item.user.avatarUrl\"\r\n              style=\"width: 50px; border-radius: 25px\"\r\n            />\r\n            <span\r\n              style=\"display: inline-block; margin-left: 10px; font-size: 15px\"\r\n              >{{ item.user.nickname }}&nbsp;&nbsp;:&nbsp;&nbsp;</span\r\n            >\r\n            <span style=\"margin-left: 20px; width: 750px\">\r\n              {{ item.content }}\r\n            </span>\r\n            <div style=\"height: 30px\">\r\n              <span style=\"float: right; width: 130px\"\r\n                >&nbsp;&nbsp;时间：{{ item.timeStr }}</span\r\n              ><span style=\"float: right\"\r\n                >{{ item.likedCount }} 赞&nbsp;&nbsp;&nbsp;</span\r\n              >\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"pagination\">\r\n            <el-pagination\r\n              v-if=\"commentCount !== 0\"\r\n              @current-change=\"songhandleCurrentChange\"\r\n              :current-page.sync=\"currentPage\"\r\n              :page-size=\"7\"\r\n              layout=\"prev, pager, next, jumper\"\r\n              :total=\"commentCount\"\r\n              :background=\"true\"\r\n            >\r\n            </el-pagination>\r\n          </div>\r\n        </div>\r\n      </ul>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getDownloadUrl, getSongDetails, getSongComment } from \"@/api/api\";\r\nimport { likeMusic } from \"@/api/needLogin/musicOperate\";\r\nimport { download, transMusicTime } from \"@/utils/commonApi\";\r\nexport default {\r\n  // props: ['songId'],\r\n  data() {\r\n    return {\r\n      //评论分页\r\n      currentPage: 1,\r\n      songUrlAdd: null,\r\n      // songId: '', //接收的歌曲id\r\n      songDetails: { al: { picUrl: \"\" }, ar: [{ name: \"\" }], alia: [], fee: 0 }, //歌曲详情\r\n      songComment: [],\r\n      commentCount: 0,\r\n      //搜索歌曲总数\r\n      count: 0,\r\n    };\r\n  },\r\n  created() {\r\n    //路由中含有歌曲详细信息时，直接使用\r\n    if (this.$route.params.songDetails) {\r\n      this.songDetails = this.$route.params.songDetails;\r\n      localStorage.setItem(\r\n        \"songDetails\",\r\n        JSON.stringify(this.$route.params.songDetails)\r\n      );\r\n      this.getSongComment(this.songDetails.id);\r\n    } else {\r\n      //路由只设置了歌曲id时，便发起请求获取歌曲信息。反之若都没有，代表只是刷新了页面，直接使用缓存获取路由信息\r\n      if (this.$route.params.id) {\r\n        this.getSongDetails();\r\n        this.getSongComment(this.$route.params.id);\r\n      } else {\r\n        this.songDetails = JSON.parse(localStorage.getItem(\"songDetails\"));\r\n        this.getSongComment(this.songDetails.id);\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    // 分页\r\n    songhandleCurrentChange(currentPage) {\r\n      var that = this;\r\n      that.currentPage = currentPage;\r\n      that.getSongComment();\r\n    },\r\n    // 获取歌曲详情\r\n    getSongDetails() {\r\n      var that = this;\r\n      let params = {\r\n        ids: this.$route.params.id,\r\n      };\r\n      getSongDetails(params).then(async (res) => {\r\n        that.songDetails = await res.data.songs[0];\r\n        that.$set(that.songDetails, \"timer\", true);\r\n        transMusicTime(that.songDetails, \"dt\");\r\n        localStorage.setItem(\"songDetails\", JSON.stringify(that.songDetails));\r\n        // console.log(\"歌曲详情\", res.data.songs[0]);\r\n      });\r\n    },\r\n    //获取歌曲评论\r\n    getSongComment(id) {\r\n      var that = this;\r\n      let params = {\r\n        id: id,\r\n        limit: 7,\r\n        offset: (that.currentPage - 1) * 7,\r\n      };\r\n      getSongComment(params).then((res) => {\r\n        that.songComment = res.data.comments;\r\n        that.commentCount = res.data.total;\r\n        // console.log(\"歌曲评论：\", res.data);\r\n      });\r\n    },\r\n    //喜欢/取消喜欢音乐\r\n    likeMusic(id, like) {\r\n      const loading = this.$loading({\r\n        target: \"#like_detail\",\r\n        background: \"rgba(255,255,255,0.1)\",\r\n      });\r\n      likeMusic({ id: id, like: like })\r\n        .then((res) => {\r\n          this.$nextTick(() => {\r\n            loading.close();\r\n          });\r\n          if (res.data.code === 200) {\r\n            if (like) {\r\n              this.$message.success(\"已添加入我的喜欢-可进入网易云音乐查看\");\r\n              return;\r\n            }\r\n            this.$message.success(\"已从我的喜欢列表删除\");\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          this.$nextTick(() => {\r\n            loading.close();\r\n          });\r\n        });\r\n    },\r\n    //试听音乐\r\n    listenMusic(songDetails) {\r\n      // console.log('歌曲信息---：',songDetails)\r\n      if (songDetails.timer) {\r\n        //获取播放音乐链接\r\n        if (songDetails.noCopyrightRcmd) {\r\n          this.$message.error(\"这首歌暂无版权\");\r\n          songDetails.timer = false;\r\n          setTimeout(() => {\r\n            songDetails.timer = true;\r\n          }, 3000);\r\n          return;\r\n        }\r\n        if (songDetails.fee == 1) {\r\n          this.$message({\r\n            message: \"VIP歌曲 - 只能试听30s\",\r\n            type: \"warning\",\r\n          });\r\n        }\r\n        // 获取歌词\r\n        // getSongLyric({\r\n        //   id: id,\r\n        // }).then((res) => {\r\n        //   songlrc = res.data.lrc.lyric;\r\n        // }),\r\n        this.$store.commit(\"aplayer/addAUDITION\", {\r\n          name: songDetails.name, //歌曲名\r\n          artist: songDetails.ar[0].name, //作者\r\n          // url: songUrlAdd,\r\n          url: `https://music.163.com/song/media/outer/url?id=${songDetails.id}.mp3`,\r\n          cover: songDetails.al.picUrl,\r\n          //   lrc: songlrc,\r\n          id: songDetails.id,\r\n        });\r\n        songDetails.timer = false;\r\n        setTimeout(() => {\r\n          songDetails.timer = true;\r\n        }, 3000);\r\n      }\r\n    },\r\n    //添加歌曲到播放列表\r\n    playMusic(songDetails) {\r\n      if (songDetails.timer) {\r\n        //获取播放音乐链接\r\n        if (songDetails.noCopyrightRcmd) {\r\n          this.$message.error(\"这首歌暂无版权\");\r\n          songDetails.timer = false;\r\n          setTimeout(() => {\r\n            songDetails.timer = true;\r\n          }, 3000);\r\n          return;\r\n        }\r\n        if (songDetails.fee == 1) {\r\n          this.$message.warning(\"VIP歌曲 - 只能试听30s\");\r\n        }\r\n        // 获取歌词\r\n        // getSongLyric({\r\n        //   id: id,\r\n        // }).then((res) => {\r\n        //   songlrc = res.data.lrc.lyric;\r\n        // }),\r\n        this.$store.commit(\"aplayer/addSONG\", {\r\n          name: songDetails.name, //歌曲名\r\n          artist: songDetails.ar[0].name, //作者\r\n          // url: songUrlAdd,\r\n          url: `https://music.163.com/song/media/outer/url?id=${songDetails.id}.mp3`,\r\n          cover: songDetails.al.picUrl,\r\n          //   lrc: songlrc,\r\n          id: songDetails.id,\r\n        });\r\n        songDetails.timer = false;\r\n        setTimeout(() => {\r\n          songDetails.timer = true;\r\n        }, 3000);\r\n      }\r\n    },\r\n    playMV(mvId) {\r\n      //获取mv播放链接\r\n      this.$router.push({\r\n        name: \"mvPlay\",\r\n        params: { mvId: mvId },\r\n      });\r\n    },\r\n    //获取歌曲下载地址\r\n    async getDownloadUrl(songId, songName) {\r\n      var that = this;\r\n      that.$message.warning(\"正在尝试下载\");\r\n      let params = {\r\n        id: songId,\r\n      };\r\n      await getDownloadUrl(params).then(async (res) => {\r\n        // console.log('歌曲下载地址：', res.data)\r\n        // console.log(\"歌曲下载地址：\", res.data.data.url);\r\n        // download(res.data.data.url, songName)\r\n        await download(res.data.data[0].url, songName);\r\n        that.$message.success(\"可以开始下载了\");\r\n      });\r\n    },\r\n    //进入歌手页面\r\n    goSingerDetail(id) {\r\n      // let routerInfo = {\r\n      //   name: \"singerDetail\",\r\n      //   params: {\r\n      //     id: id,\r\n      //   },\r\n      // };\r\n      // this.$router.push({\r\n      //   name: \"emptyPage\",\r\n      //   params: routerInfo,\r\n      // });\r\n      this.$router.push({\r\n        name: \"singerDetail\",\r\n        params: { id: id },\r\n      });\r\n    },\r\n    // 进入mv详情页面\r\n    playMV(mvId) {\r\n      //获取mv播放链接\r\n      this.$router.push({\r\n        name: \"mvPlay\",\r\n        params: { mvId: mvId },\r\n      });\r\n    },\r\n    //根据主题更换播放器颜色\r\n    // randomColor() {\r\n    //   return `#${((Math.random() * 0xffffff) << 0).toString(16)}`\r\n    // },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.descript {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  color: aliceblue;\r\n  font-weight: bolder;\r\n  padding: 10px 20px;\r\n  border-radius: 20px 20px 0 0;\r\n  background: rgba(221, 239, 243, 0.05);\r\n  box-sizing: border-box;\r\n}\r\n\r\n.list-wrap {\r\n  margin: 10px auto 0;\r\n  padding: 0 20px 10px;\r\n  width: 1120px;\r\n  height: 730px;\r\n  border-radius: 20px;\r\n  background: rgba(221, 239, 243, 0.05);\r\n  box-sizing: border-box;\r\n\r\n  ul {\r\n    height: 630px;\r\n    border-radius: 0 0 10px 10px;\r\n    background: rgba(221, 239, 243, 0.05);\r\n    overflow-x: hidden;\r\n\r\n    &::-webkit-scrollbar {\r\n      display: none;\r\n    }\r\n\r\n    .details {\r\n      display: flex;\r\n      justify-content: space-between;\r\n      margin: 0 auto;\r\n      padding: 10px;\r\n      width: 98%;\r\n      height: 200px;\r\n      // border: 1px solid rgb(97, 226, 183);\r\n      border-radius: 10px;\r\n      // background: rgba(109, 109, 109, 0);\r\n      box-sizing: border-box;\r\n\r\n      .details-img {\r\n        display: inline-block;\r\n        // width: 180px;\r\n        // height: 180px;\r\n        border-radius: 10px;\r\n\r\n        img {\r\n          width: 180px;\r\n          height: 180px;\r\n          border-radius: 10px;\r\n          transition: 0.2s;\r\n\r\n          &:hover {\r\n            transform: scale(1.03);\r\n          }\r\n        }\r\n      }\r\n\r\n      .detailsRight {\r\n        width: 820px;\r\n        height: 180px;\r\n        // background: rgb(181, 209, 152);\r\n\r\n        .option {\r\n          display: inline-block;\r\n\r\n          margin-left: 50px;\r\n\r\n          .flexBetween {\r\n            .inline-block {\r\n              display: inline-block;\r\n              transition: 0.2s;\r\n\r\n              &:hover {\r\n                cursor: pointer;\r\n                color: rgb(246, 255, 119);\r\n              }\r\n            }\r\n          }\r\n        }\r\n\r\n        .songTns {\r\n          margin: 10px 0 10px 0;\r\n          width: 100%;\r\n          max-height: 75px;\r\n          font-size: 14px;\r\n          overflow-x: hidden;\r\n\r\n          &::-webkit-scrollbar {\r\n            display: none;\r\n          }\r\n        }\r\n\r\n        .playListNickName {\r\n          display: inline-block;\r\n          margin-bottom: 10px;\r\n          color: antiquewhite;\r\n          transition: 0.2s;\r\n\r\n          &:hover {\r\n            cursor: pointer;\r\n            color: #d6a897;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    .music-list {\r\n      display: flex;\r\n      padding: 10px 10px;\r\n      width: 1080px;\r\n      overflow: hidden;\r\n      color: rgba(255, 255, 255, 1);\r\n      font-weight: bolder;\r\n      -o-text-overflow: ellipsis;\r\n      text-overflow: ellipsis;\r\n      background: rgba(221, 239, 243, 0.11);\r\n      transition: 0.2s;\r\n\r\n      .music-list-span {\r\n        display: inline-block;\r\n        width: 270px;\r\n        text-align: center;\r\n        overflow: hidden;\r\n        text-overflow: ellipsis;\r\n        white-space: nowrap;\r\n      }\r\n\r\n      .option {\r\n        display: inline-block;\r\n        width: 250px;\r\n        text-align: center;\r\n\r\n        span {\r\n          display: inline-block;\r\n          width: 30px;\r\n\r\n          &:hover {\r\n            cursor: pointer;\r\n          }\r\n        }\r\n      }\r\n\r\n      &:hover {\r\n        background: rgba(76, 152, 155, 0.527);\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n.pagination {\r\n  text-align: center;\r\n  background: none !important;\r\n}\r\n\r\n/deep/ .el-pager {\r\n  height: 30px !important;\r\n  background: none !important;\r\n}\r\n\r\n/deep/ .number,\r\n/deep/ .btn-prev,\r\n/deep/ .btn-quicknext,\r\n/deep/ .btn-next,\r\n/deep/ .el-input__inner,\r\n/deep/ .more {\r\n  color: #f2fff7 !important;\r\n  background: transparent !important;\r\n}\r\n\r\n/deep/ .number:hover,\r\n/deep/ .btn-prev:hover,\r\n/deep/ .btn-quicknext:hover,\r\n/deep/ .btn-next:hover,\r\n/deep/ .el-input__inner:hover,\r\n/deep/ .more:hover {\r\n  color: #f7a588 !important;\r\n}\r\n\r\n/deep/ .active {\r\n  color: #f7a588 !important;\r\n}\r\n\r\n/deep/ .el-input__inner {\r\n  border: none;\r\n}\r\n\r\n/deep/ .el-pagination__jump {\r\n  color: #f7dd88 !important;\r\n}\r\n\r\n/deep/ .el-pagination {\r\n  height: 30px !important;\r\n}\r\n\r\n.iconhover {\r\n  transition: 0.2s;\r\n\r\n  &:hover {\r\n    color: rgb(247, 243, 45);\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./songDetails.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./songDetails.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./songDetails.vue?vue&type=template&id=c416ca82&scoped=true&\"\nimport script from \"./songDetails.vue?vue&type=script&lang=js&\"\nexport * from \"./songDetails.vue?vue&type=script&lang=js&\"\nimport style0 from \"./songDetails.vue?vue&type=style&index=0&id=c416ca82&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c416ca82\",\n  null\n  \n)\n\nexport default component.exports","import { cloudMusic } from '@/api/request'\r\n\r\n//收藏/取消歌单（1收藏2取消）\r\nexport function collectPlaylist(params) {\r\n\treturn cloudMusic({\r\n\t\turl: '/playlist/subscribe',\r\n\t\tmethod: 'post',\r\n\t\tdata: params,\r\n\t})\r\n}\r\n/*\r\n 喜欢音乐必选参数 : id: 歌曲 id\r\n可选参数 : like: 布尔值 , 默认为 true 即喜欢 , 若传 false, 则取消喜欢\r\n*/\r\nexport function likeMusic(params) {\r\n\treturn cloudMusic({\r\n\t\turl: '/like',\r\n\t\tmethod: 'post',\r\n\t\tdata: params,\r\n\t})\r\n}\r\n\r\n/* 说明 : 登录后调用此接口 , 传入用户 id, 可以获取用户歌单\r\n\r\n必选参数 : uid : 用户 id\r\n\r\n可选参数 :\r\n\r\nlimit : 返回数量 , 默认为 30\r\n\r\noffset : 偏移数量，用于分页 , 如 :( 页数 -1)*30, 其中 30 为 limit 的值 , 默认为 0\r\n\r\n接口地址 : /user/playlist\r\n\r\n调用例子 : /user/playlist?uid=32953014 */\r\nexport function getMyPlayList(params) {\r\n\treturn cloudMusic({\r\n\t\turl: '/user/playlist',\r\n\t\tmethod: 'get',\r\n\t\tparams: params,\r\n\t})\r\n}\r\n\r\n/* \r\n删除歌单\r\n必选参数 : id : 歌单 id,可多个,用逗号隔开\r\n\r\n接口地址 : /playlist/delete\r\n\r\n调用例子 : /playlist/delete?id=2947311456 , /playlist/delete?id=5013464397,5013427772 */\r\n\r\nexport function deletePlayList(params) {\r\n\treturn cloudMusic({\r\n\t\turl: '/playlist/delete',\r\n\t\tmethod: 'get',\r\n\t\tparams: params,\r\n\t})\r\n}\r\n/* \r\n更新用户歌单\r\n必选参数 :\r\n\r\nid:歌单id\r\n\r\nname:歌单名字\r\n\r\ndesc:歌单描述\r\n\r\ntags:歌单tag ,多个用 `;` 隔开,只能用官方规定标签\r\n接口地址 : /playlist/update\r\n\r\n调用例子 : /playlist/update?id=24381616&name=新歌单&desc=描述&tags=欧美 */\r\nexport function updatePlayList(params) {\r\n\treturn cloudMusic({\r\n\t\turl: '/playlist/update',\r\n\t\tmethod: 'get',\r\n\t\tparams: params,\r\n\t})\r\n}\r\n"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","attrs","songDetails","al","picUrl","staticStyle","_s","name","on","$event","likeMusic","id","goSingerDetail","ar","dt","listenMusic","fee","stopPropagation","playMusic","_e","Boolean","mv","playMV","getDownloadUrl","alia","commentCount","_l","item","key","user","avatarUrl","nickname","content","timeStr","likedCount","currentPage","songhandleCurrentChange","staticRenderFns","data","songUrlAdd","songComment","count","created","$route","params","localStorage","setItem","JSON","getSongComment","getSongDetails","parse","getItem","methods","that","ids","res","transMusicTime","limit","offset","comments","total","like","target","background","then","loading","catch","timer","noCopyrightRcmd","$message","error","setTimeout","message","type","$store","commit","artist","url","cover","warning","mvId","$router","push","songId","songName","download","component","collectPlaylist","cloudMusic","method","getMyPlayList","deletePlayList"],"sourceRoot":""}