{"version":3,"file":"js/232.0a884812.js","mappings":"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","sources":["webpack://music/./src/components/songlist.vue?8bac","webpack://music/src/components/songlist.vue","webpack://music/./src/components/songlist.vue?ed48","webpack://music/./src/components/songlist.vue","webpack://music/./src/views/myPlayList.vue?0ce9","webpack://music/src/views/myPlayList.vue","webpack://music/./src/views/myPlayList.vue?30ed","webpack://music/./src/views/myPlayList.vue","webpack://music/./src/api/needLogin/musicOperate.js"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',_vm._l((_vm.songlist),function(item,index){return _c('div',{key:item.id,staticClass:\"music-list\"},[_c('div',{staticStyle:{\"width\":\"35px\"}},[_vm._v(_vm._s(index + 1)+\".\")]),_c('div',{staticClass:\"music-list-info\",on:{\"dblclick\":function($event){return _vm.goSongDetails(item)}}},[_c('div',{staticClass:\"music-list-span\"},[_vm._v(_vm._s(item.name))]),_c('div',{staticClass:\"music-list-span\"},[_vm._v(_vm._s(item.ar[0].name))]),_c('div',{staticClass:\"music-list-span music-list-dt\"},[_vm._v(_vm._s(item.dt))])]),_c('div',{staticClass:\"option\"},[_c('span',{on:{\"click\":function($event){return _vm.likeMusic(item.id, true)}}},[_c('i',{staticClass:\"iFont el-icon-star-on iconhover\"})]),_c('span',{on:{\"click\":function($event){return _vm.likeMusic(item.id, false)}}},[_c('i',{staticClass:\"iFont el-icon-star-off iconhover\"})]),_c('span',{on:{\"click\":function($event){return _vm.listenMusic(item)}}},[_c('i',{staticClass:\"el-icon-headset iconhover\"})]),(item.fee == 0 || item.fee == 8)?_c('span',{on:{\"click\":function($event){$event.stopPropagation();return _vm.playMusic(item)}}},[_c('i',{staticClass:\"el-icon-folder-add iconhover\"})]):_vm._e(),(Boolean(item.mv))?_c('span',{on:{\"click\":function($event){$event.stopPropagation();return _vm.playMV(item.mv)}}},[_c('i',{staticClass:\"el-icon-video-camera iconhover\"})]):_vm._e(),(item.fee == 0 || item.fee == 8)?_c('span',{on:{\"click\":function($event){return _vm.getDownloadUrl(item.id, item.name)}}},[_c('i',{staticClass:\"el-icon-download iconhover\"})]):_vm._e()])])}),0)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <div class=\"music-list\" v-for=\"(item, index) in songlist\" :key=\"item.id\">\r\n      <div style=\"width: 35px\">{{ index + 1 }}.</div>\r\n      <div @dblclick=\"goSongDetails(item)\" class=\"music-list-info\">\r\n        <div class=\"music-list-span\">{{ item.name }}</div>\r\n        <div class=\"music-list-span\">{{ item.ar[0].name }}</div>\r\n        <div class=\"music-list-span music-list-dt\">{{ item.dt }}</div>\r\n      </div>\r\n\r\n      <div class=\"option\">\r\n        <!-- 加入我的喜欢 -->\r\n        <span @click=\"likeMusic(item.id, true)\"\r\n          ><i class=\"iFont el-icon-star-on iconhover\"></i\r\n        ></span>\r\n        <!-- 从我的喜欢删除 -->\r\n        <span @click=\"likeMusic(item.id, false)\"\r\n          ><i class=\"iFont el-icon-star-off iconhover\"></i\r\n        ></span>\r\n        <!-- <i class=\"iFont el-icon-star-off\" @click=\"collectPlaylist\"></i> -->\r\n        <!-- 试听 -->\r\n        <span @click=\"listenMusic(item)\"\r\n          ><i class=\"el-icon-headset iconhover\"></i\r\n        ></span>\r\n        <!-- 添加到播放列表 -->\r\n        <span\r\n          v-if=\"item.fee == 0 || item.fee == 8\"\r\n          @click.stop=\"playMusic(item)\"\r\n          ><i class=\"el-icon-folder-add iconhover\"></i>\r\n        </span>\r\n        <!-- 播放MV -->\r\n        <span v-if=\"Boolean(item.mv)\" @click.stop=\"playMV(item.mv)\"\r\n          ><i class=\"el-icon-video-camera iconhover\"></i>\r\n        </span>\r\n        <!-- 下载 -->\r\n        <span\r\n          v-if=\"item.fee == 0 || item.fee == 8\"\r\n          @click=\"getDownloadUrl(item.id, item.name)\"\r\n        >\r\n          <i class=\"el-icon-download iconhover\"></i\r\n        ></span>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getDownloadUrl } from \"@/api/api\";\r\nimport { playMusic, listenMusic } from \"@/utils/musicPlay\";\r\nimport { likeMusic } from \"@/api/needLogin/musicOperate\";\r\nimport { download } from \"@/utils/commonApi\";\r\nexport default {\r\n  props: {\r\n    songlist: Array,\r\n  },\r\n  data() {\r\n    return {};\r\n  },\r\n  methods: {\r\n    //获取歌曲详情,进入详情页面\r\n    goSongDetails(songDetails) {\r\n      // console.log('歌曲信息',songDetails)\r\n      this.$router.push({\r\n        name: \"songDetails\",\r\n        params: {\r\n          songDetails: songDetails,\r\n        },\r\n      });\r\n    },\r\n    //加入/删除喜欢音乐\r\n    likeMusic(id, bool) {\r\n      const loading = this.$loading({\r\n        target: \"#app_body\",\r\n        background: \"rgba(255,255,255,0.1)\",\r\n      });\r\n      likeMusic({ id: id, like: bool })\r\n        .then((res) => {\r\n          this.$nextTick(() => {\r\n            loading.close();\r\n          });\r\n          // console.log(\"添加\", res);\r\n          if (res.data.code === 200) {\r\n            if (bool) {\r\n              this.$message.success(\"已添加入我的喜欢-可进入网易云音乐查看\");\r\n              return;\r\n            }\r\n            this.$message.success(\"已从我的喜欢列表删除\");\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          this.$nextTick(() => {\r\n            loading.close();\r\n          });\r\n        });\r\n    },\r\n    //试听音乐\r\n    listenMusic(songDetals) {\r\n      //获取播放音乐链接\r\n      var that = this;\r\n      var list = \"songlist\";\r\n      listenMusic(songDetals, that);\r\n    },\r\n    //添加歌曲到播放列表\r\n    playMusic(songDetals) {\r\n      //获取播放音乐链接\r\n      var that = this;\r\n      var list = \"songlist\";\r\n      playMusic(songDetals, that);\r\n    },\r\n    playMV(mvId) {\r\n      //获取mv播放链接\r\n      this.$router.push({\r\n        name: \"mvPlay\",\r\n        params: { mvId: mvId },\r\n      });\r\n    },\r\n    //获取歌曲下载地址\r\n    getDownloadUrl(songId, songName) {\r\n      var that = this;\r\n      that.$message({\r\n        type: \"success\",\r\n        message: \"正在尝试下载\",\r\n      });\r\n      let params = {\r\n        id: songId,\r\n      };\r\n      getDownloadUrl(params).then((res) => {\r\n        // console.log('歌曲下载地址：', res.data)\r\n        // console.log(\"歌曲下载地址：\", res.data.data.url);\r\n        // download(res.data.data.url, songName)\r\n        download(res.data.data[0].url, songName);\r\n        that.$message({\r\n          type: \"success\",\r\n          message: \"开始下载了\",\r\n        });\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" >\r\n.music-list {\r\n  position: relative;\r\n  display: flex;\r\n  align-content: center;\r\n  justify-content: space-around;\r\n  margin: 5px auto 5px;\r\n  padding: 0 15px;\r\n  width: 96%;\r\n  //   height: 30px;\r\n  //   line-height: 30px;\r\n  overflow: hidden;\r\n  color: rgba(255, 255, 255, 1);\r\n  font-weight: bolder;\r\n  border-radius: 5px;\r\n  -o-text-overflow: ellipsis;\r\n  text-overflow: ellipsis;\r\n  background-color: rgba(99, 187, 162, 0.044);\r\n  border-radius: 15px;\r\n  transition: 0.2s;\r\n\r\n  .music-list-index {\r\n    position: absolute;\r\n    left: 0;\r\n    width: 5%;\r\n  }\r\n  .music-list-info {\r\n    display: flex;\r\n    align-content: center;\r\n    justify-content: space-between;\r\n    width: 70%;\r\n\r\n    .music-list-span,\r\n    .music-list-dt {\r\n      text-align: center;\r\n      overflow: hidden;\r\n      text-overflow: ellipsis;\r\n      white-space: nowrap;\r\n    }\r\n    .music-list-span {\r\n      width: 40%;\r\n    }\r\n    .music-list-dt {\r\n      width: 25%;\r\n      // font-size:13px;\r\n      text-align: center;\r\n      overflow: hidden;\r\n      text-overflow: ellipsis;\r\n      white-space: nowrap;\r\n    }\r\n  }\r\n\r\n  .option {\r\n    display: inline-block;\r\n    margin-left: 2%;\r\n    width: 15%;\r\n    box-sizing: border-box;\r\n\r\n    span {\r\n      display: inline-block;\r\n      width: 15%;\r\n      &:hover {\r\n        cursor: pointer;\r\n      }\r\n    }\r\n  }\r\n\r\n  &:hover {\r\n    color: rgb(88, 255, 241);\r\n    transform: scale(1.01);\r\n    // background: rgba(141, 251, 255, 0.192);\r\n  }\r\n}\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./songlist.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./songlist.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./songlist.vue?vue&type=template&id=5a495be8&\"\nimport script from \"./songlist.vue?vue&type=script&lang=js&\"\nexport * from \"./songlist.vue?vue&type=script&lang=js&\"\nimport style0 from \"./songlist.vue?vue&type=style&index=0&id=5a495be8&prod&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"list-wrap\"},[_c('div',{staticClass:\"pageName\"},[_vm._v(\"我的歌单\")]),_c('ul',[_c('div',{staticClass:\"playListClass\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.playListTable.length === 0),expression:\"playListTable.length === 0\"}],staticClass:\"loading\"},[_c('i',{staticClass:\"el-icon-loading\"})]),_c('div',{staticClass:\"recPlay\"},[_c('ul',{staticClass:\"playListWrap\"},_vm._l((_vm.playListTable),function(item,index){return _c('li',{key:index,staticClass:\"playListTable\"},[_c('div',{staticClass:\"image\"},[_c('img',{attrs:{\"src\":item.coverImgUrl,\"alt\":\"\",\"title\":\"\"},on:{\"click\":function($event){return _vm.goSongList(item)}}}),_c('span',{staticClass:\"playCount\"},[_c('i',{staticClass:\"el-icon-video-play\",staticStyle:{\"margin-right\":\"1px\"}}),_vm._v(_vm._s(item.playCount))])]),_c('p',{staticClass:\"List-title\",on:{\"click\":function($event){return _vm.goSongList(item)}}},[_c('span',[_vm._v(_vm._s(item.name)+\" \")])])])}),0)])])]),_c('div',{staticClass:\"pagination\"},[_c('el-pagination',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.count != 0),expression:\"count != 0\"}],attrs:{\"current-page\":_vm.currentPage,\"page-size\":30,\"layout\":\"prev, pager, next, jumper\",\"total\":_vm.count,\"background\":true},on:{\"current-change\":_vm.handleCurrentChange,\"update:currentPage\":function($event){_vm.currentPage=$event},\"update:current-page\":function($event){_vm.currentPage=$event}}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"list-wrap\">\r\n    <!-- <div class=\"descript\"></div> -->\r\n    <div class=\"pageName\">我的歌单</div>\r\n    <ul>\r\n      <!-- 歌单列表 -->\r\n      <div class=\"playListClass\">\r\n        <div class=\"loading\" v-show=\"playListTable.length === 0\">\r\n          <i class=\"el-icon-loading\"></i>\r\n        </div>\r\n        <div class=\"recPlay\">\r\n          <ul class=\"playListWrap\">\r\n            <li\r\n              class=\"playListTable\"\r\n              v-for=\"(item, index) in playListTable\"\r\n              :key=\"index\"\r\n            >\r\n              <div class=\"image\">\r\n                <img\r\n                  :src=\"item.coverImgUrl\"\r\n                  alt=\"\"\r\n                  title=\"\"\r\n                  @click=\"goSongList(item)\"\r\n                />\r\n                <span class=\"playCount\"\r\n                  ><i class=\"el-icon-video-play\" style=\"margin-right: 1px\"></i\r\n                  >{{ item.playCount }}</span\r\n                >\r\n              </div>\r\n              <p class=\"List-title\" @click=\"goSongList(item)\">\r\n                <span>{{ item.name }} </span>\r\n              </p>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    </ul>\r\n\r\n    <div class=\"pagination\">\r\n      <el-pagination\r\n        v-show=\"count != 0\"\r\n        @current-change=\"handleCurrentChange\"\r\n        :current-page.sync=\"currentPage\"\r\n        :page-size=\"30\"\r\n        layout=\"prev, pager, next, jumper\"\r\n        :total=\"count\"\r\n        :background=\"true\"\r\n      >\r\n      </el-pagination>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getMyPlayList, updatePlayList } from \"@/api/needLogin/musicOperate\";\r\nimport { transMusicTime, transPlayCount } from \"@/utils/commonApi\";\r\nimport songlist from \"@/components/songlist.vue\";\r\nexport default {\r\n  components: {\r\n    songlist,\r\n  },\r\n  data() {\r\n    return {\r\n      //歌单列表\r\n      playListTable: [],\r\n      count: 0,\r\n      //初始页\r\n      currentPage: 1,\r\n    };\r\n  },\r\n  created() {\r\n    // this.updatePlayList();\r\n    this.getMyPlayList();\r\n  },\r\n  methods: {\r\n    //分页\r\n    handleCurrentChange: function (currentPage) {\r\n      this.currentPage = currentPage;\r\n      this.getMyPlayList();\r\n    },\r\n\r\n    //进入歌单详情\r\n    goSongList(playListDetail) {\r\n      // console.log(playListDetail);\r\n      let params = {\r\n        id: playListDetail.id,\r\n        name: playListDetail.name,\r\n        coverImgUrl: playListDetail.picUrl,\r\n        trackCount: playListDetail.trackCount,\r\n        creator: {\r\n          avatarUrl: \"\",\r\n          nickname: playListDetail.creator.nickname,\r\n          signature: \"\",\r\n        },\r\n        tags: [],\r\n        description: \"\",\r\n      };\r\n      //传入歌单id进入歌单详情\r\n      this.$router.push({\r\n        name: \"playListDetails\",\r\n        params: { playListDetail: params },\r\n      });\r\n    },\r\n\r\n    //获取用户歌单\r\n    getMyPlayList() {\r\n      let params = {\r\n        uid: JSON.parse(localStorage.getItem(\"user\")).userId,\r\n        limit: 30,\r\n        offset: (this.currentPage - 1) * 30,\r\n      };\r\n      this.playListTable = [];\r\n      getMyPlayList(params).then(async (res) => {\r\n        console.log(\"获取我的歌单列表----\", res);\r\n        if (res.data.code === 200) {\r\n          this.playListTable = await res.data.playlist;\r\n          this.count = this.playListTable.length;\r\n          transPlayCount(this.playListTable, \"playCount\");\r\n        }\r\n      });\r\n    },\r\n    //更新歌单\r\n    // updatePlayList(){\r\n    //   updatePlayList().then(res=>{\r\n\r\n    //   })\r\n    // }\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n// 歌单列表样式\r\n.playListClass {\r\n  .recPlay {\r\n    margin: auto;\r\n    max-height: 630px;\r\n    overflow-x: hidden;\r\n\r\n    &::-webkit-scrollbar {\r\n      display: none;\r\n    }\r\n\r\n    .playListWrap {\r\n      display: flex;\r\n      // flex-direction: column;\r\n      justify-content: space-between;\r\n      flex-wrap: wrap; //根据宽度限制一行的盒子个数\r\n      margin-bottom: 10px;\r\n      width: 100%;\r\n      background: transparent;\r\n      // overflow-x: hidden;\r\n\r\n      .playListTable {\r\n        margin-bottom: 10px;\r\n        width: 205px;\r\n        height: 230px;\r\n        box-sizing: border-box;\r\n\r\n        .image {\r\n          position: relative;\r\n          margin: 10px auto;\r\n          width: 190px;\r\n          height: 190px;\r\n          border-radius: 10px;\r\n          overflow: hidden;\r\n          transition: 0.2s;\r\n\r\n          &:hover {\r\n            transform: scale(1.06);\r\n            cursor: pointer;\r\n            // height: 210px;\r\n          }\r\n          img {\r\n            position: absolute;\r\n            width: 100%;\r\n            height: 100%;\r\n          }\r\n\r\n          .playCount {\r\n            position: absolute;\r\n            z-index: 99;\r\n            right: 10px;\r\n            background: transparent;\r\n          }\r\n        }\r\n        .List-title {\r\n          margin: 0 auto;\r\n          font-size: 15px;\r\n          // padding: 0 10px;\r\n          width: 180px;\r\n          transition: 0.2s;\r\n          text-align: center;\r\n          text-overflow: ellipsis;\r\n          white-space: nowrap;\r\n          overflow: hidden; /*必须结合的属性,当内容溢出元素框时发生的事情*/\r\n          text-overflow: ellipsis; /*可以用来多行文本的情况下，用省略号“…”隐藏超出范围的文本 。*/\r\n          white-space: nowrap;\r\n          display: -webkit-box; /*必须结合的属性 ，将对象作为弹性伸缩盒子模型显示 。*/\r\n          -webkit-line-clamp: 1; /*用来限制在一个块元素显示的文本的行数。*/\r\n          -webkit-box-orient: vertical; /*必须结合的属性 ，设置或检索伸缩盒对象的子元素的排列方式 。*/\r\n          span {\r\n            display: inline-block;\r\n            width: 180px;\r\n            // text-align: center;\r\n            text-overflow: ellipsis;\r\n            overflow: hidden;\r\n            white-space: nowrap;\r\n\r\n            &:hover {\r\n              color: rgb(145, 245, 228);\r\n              cursor: pointer;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n.descript {\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n  color: aliceblue;\r\n  font-weight: bolder;\r\n  padding: 10px 20px;\r\n  border-radius: 20px 20px 0 0;\r\n  background: rgba(95, 158, 160, 0.05);\r\n  box-sizing: border-box;\r\n}\r\n.list-wrap {\r\n  margin: 10px auto 0;\r\n  padding: 0 20px 10px;\r\n  width: 1120px;\r\n  // height: 730px;\r\n  border-radius: 20px;\r\n  background: rgba(95, 158, 160, 0.11);\r\n  box-sizing: border-box;\r\n\r\n  .tagWrap {\r\n    display: flex;\r\n    justify-content: space-around;\r\n    align-content: center;\r\n    margin: 0 auto;\r\n    width: 50%;\r\n\r\n    span {\r\n      font-size: 18px;\r\n      padding: 0 10px;\r\n      transition: 0.2s;\r\n\r\n      &:hover {\r\n        color: rgb(101, 195, 233);\r\n        cursor: pointer;\r\n      }\r\n    }\r\n  }\r\n\r\n  ul {\r\n    height: 650px;\r\n    border-radius: 0 0 10px 10px;\r\n    background: rgba(95, 158, 160, 0.05);\r\n    overflow-x: hidden;\r\n\r\n    &::-webkit-scrollbar {\r\n      display: none;\r\n    }\r\n\r\n    .music-list {\r\n      position: relative;\r\n      display: flex;\r\n      margin: 5px auto 5px;\r\n      padding: 0 10px;\r\n      width: 96%;\r\n      height: 30px;\r\n      line-height: 30px;\r\n      overflow: hidden;\r\n      color: rgba(255, 255, 255, 1);\r\n      font-weight: bolder;\r\n      border-radius: 5px;\r\n      -o-text-overflow: ellipsis;\r\n      text-overflow: ellipsis;\r\n      // background: rgba(172, 233, 236, 0.055);\r\n      transition: 0.2s;\r\n\r\n      .music-list-span {\r\n        display: inline-block;\r\n        width: 270px;\r\n        // font-size:13px;\r\n        text-align: center;\r\n        overflow: hidden;\r\n        text-overflow: ellipsis;\r\n        white-space: nowrap;\r\n      }\r\n      .option {\r\n        position: absolute;\r\n        padding-left: 120px;\r\n        width: 240px;\r\n        right: 0px;\r\n        box-sizing: border-box;\r\n\r\n        span {\r\n          display: inline-block;\r\n          width: 30px;\r\n          &:hover {\r\n            cursor: pointer;\r\n          }\r\n        }\r\n      }\r\n\r\n      &:hover {\r\n        color: rgb(88, 255, 241);\r\n        transform: scale(1.01);\r\n        // background: rgba(141, 251, 255, 0.192);\r\n      }\r\n    }\r\n  }\r\n}\r\n.pagination {\r\n  text-align: center;\r\n  background: none !important;\r\n\r\n  /deep/ .el-pager {\r\n    height: 30px !important;\r\n    background: none !important;\r\n  }\r\n  /deep/ .number,\r\n  /deep/ .btn-prev,\r\n  /deep/ .btn-quicknext,\r\n  /deep/ .btn-next,\r\n  /deep/ .el-input__inner,\r\n  /deep/ .more {\r\n    color: #f2fff7 !important;\r\n    transition: 0.2s;\r\n    background: transparent !important;\r\n  }\r\n  /deep/ .number:hover,\r\n  /deep/ .btn-prev:hover,\r\n  /deep/ .btn-quicknext:hover,\r\n  /deep/ .btn-next:hover,\r\n  /deep/ .el-input__inner:hover,\r\n  /deep/ .more:hover {\r\n    transform: scale(1.02);\r\n    color: #f7a588 !important;\r\n  }\r\n  /deep/ .active {\r\n    color: #f7a588 !important;\r\n  }\r\n  /deep/ .el-input__inner {\r\n    border: none;\r\n  }\r\n  /deep/ .el-pagination__jump {\r\n    color: #f7dd88 !important;\r\n  }\r\n  /deep/.el-pagination {\r\n    height: 100%;\r\n  }\r\n  .iconhover {\r\n    transition: 0.2s;\r\n    &:hover {\r\n      color: rgb(247, 243, 45);\r\n    }\r\n  }\r\n}\r\n</style>\r\n\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./myPlayList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./myPlayList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./myPlayList.vue?vue&type=template&id=0f665f5c&scoped=true&\"\nimport script from \"./myPlayList.vue?vue&type=script&lang=js&\"\nexport * from \"./myPlayList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./myPlayList.vue?vue&type=style&index=0&id=0f665f5c&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0f665f5c\",\n  null\n  \n)\n\nexport default component.exports","import { cloudMusic } from '@/api/request'\r\n\r\n//收藏/取消歌单（1收藏2取消）\r\nexport function collectPlaylist(params) {\r\n\treturn cloudMusic({\r\n\t\turl: '/playlist/subscribe',\r\n\t\tmethod: 'post',\r\n\t\tdata: params,\r\n\t})\r\n}\r\n/*\r\n 喜欢音乐必选参数 : id: 歌曲 id\r\n可选参数 : like: 布尔值 , 默认为 true 即喜欢 , 若传 false, 则取消喜欢\r\n*/\r\nexport function likeMusic(params) {\r\n\treturn cloudMusic({\r\n\t\turl: '/like',\r\n\t\tmethod: 'post',\r\n\t\tdata: params,\r\n\t})\r\n}\r\n\r\n/* 说明 : 登录后调用此接口 , 传入用户 id, 可以获取用户歌单\r\n\r\n必选参数 : uid : 用户 id\r\n\r\n可选参数 :\r\n\r\nlimit : 返回数量 , 默认为 30\r\n\r\noffset : 偏移数量，用于分页 , 如 :( 页数 -1)*30, 其中 30 为 limit 的值 , 默认为 0\r\n\r\n接口地址 : /user/playlist\r\n\r\n调用例子 : /user/playlist?uid=32953014 */\r\nexport function getMyPlayList(params) {\r\n\treturn cloudMusic({\r\n\t\turl: '/user/playlist',\r\n\t\tmethod: 'get',\r\n\t\tparams: params,\r\n\t})\r\n}\r\n\r\n/* \r\n删除歌单\r\n必选参数 : id : 歌单 id,可多个,用逗号隔开\r\n\r\n接口地址 : /playlist/delete\r\n\r\n调用例子 : /playlist/delete?id=2947311456 , /playlist/delete?id=5013464397,5013427772 */\r\n\r\nexport function deletePlayList(params) {\r\n\treturn cloudMusic({\r\n\t\turl: '/playlist/delete',\r\n\t\tmethod: 'get',\r\n\t\tparams: params,\r\n\t})\r\n}\r\n/* \r\n更新用户歌单\r\n必选参数 :\r\n\r\nid:歌单id\r\n\r\nname:歌单名字\r\n\r\ndesc:歌单描述\r\n\r\ntags:歌单tag ,多个用 `;` 隔开,只能用官方规定标签\r\n接口地址 : /playlist/update\r\n\r\n调用例子 : /playlist/update?id=24381616&name=新歌单&desc=描述&tags=欧美 */\r\nexport function updatePlayList(params) {\r\n\treturn cloudMusic({\r\n\t\turl: '/playlist/update',\r\n\t\tmethod: 'get',\r\n\t\tparams: params,\r\n\t})\r\n}\r\n"],"names":["render","_vm","this","_h","$createElement","_c","_self","_l","item","index","key","id","staticClass","staticStyle","_v","_s","on","$event","goSongDetails","name","ar","dt","likeMusic","listenMusic","fee","stopPropagation","playMusic","_e","Boolean","mv","playMV","getDownloadUrl","staticRenderFns","props","songlist","Array","data","methods","songDetails","$router","push","params","bool","loading","$loading","target","background","like","then","res","catch","error","songDetals","that","mvId","songId","songName","$message","type","message","download","url","component","directives","rawName","value","playListTable","length","expression","attrs","coverImgUrl","goSongList","playCount","count","currentPage","handleCurrentChange","components","created","getMyPlayList","playListDetail","picUrl","trackCount","creator","avatarUrl","nickname","signature","tags","description","uid","JSON","parse","localStorage","getItem","userId","limit","offset","async","console","log","code","playlist","transPlayCount","collectPlaylist","cloudMusic","method","deletePlayList"],"sourceRoot":""}