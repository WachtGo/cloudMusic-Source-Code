{"ast":null,"code":"//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { getAlbumContent, getDownloadUrl } from \"@/api/api\";\nimport { transMusicTime, download } from \"@/utils/commonApi\";\nimport songlist from \"@/components/songlist.vue\";\nexport default {\n  components: {\n    songlist\n  },\n\n  data() {\n    return {\n      listen: [],\n      albumId: \"\",\n      albumSongs: [],\n      albumDesc: {\n        artist: {\n          img1v1Url: \"\"\n        }\n      }\n    };\n  },\n\n  mounted() {\n    //缓存id,解决params数据在刷新页面后丢失，导致无法获取到歌单id\n    if (this.$route.params.albumId) {\n      localStorage.setItem(\"albumId\", this.$route.params.albumId);\n    } // 判断是否使用缓存\n\n\n    this.$route.params.albumId ? this.albumId = this.$route.params.albumId : this.albumId = localStorage.getItem(\"albumId\");\n    this.getAlbumContent();\n  },\n\n  methods: {\n    getAlbumContent() {\n      var that = this;\n      let params = {\n        id: that.albumId\n      };\n      getAlbumContent(params).then(res => {\n        // console.log(\"专辑信息---：\", res.data.album);\n        // console.log(\"专辑歌曲---：\", res.data.songs);\n        that.albumDesc = res.data.album;\n        that.albumSongs = res.data.songs; //给每个列表添加一个防抖\n\n        for (let item of that.albumSongs) {\n          that.$set(item, \"timer\", true);\n        }\n\n        let dt = \"dt\";\n        transMusicTime(that.albumSongs, dt);\n      });\n    } //根据主题更换播放器颜色\n    // randomColor() {\n    //   return `#${((Math.random() * 0xffffff) << 0).toString(16)}`\n    // },\n\n\n  }\n};","map":null,"metadata":{},"sourceType":"module"}