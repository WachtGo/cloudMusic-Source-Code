{"ast":null,"code":"import \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  data: function data() {\n    return {\n      bgmusicSrc: [{\n        name: \"夏天的日子\",\n        src: \"https://music.163.com/song/media/outer/url?id=1965308597.mp3\",\n        fontColor: \"fontColorgray\"\n      }, {\n        name: \"带走我的心啊 把他藏在行囊\",\n        src: \"https://music.163.com/song/media/outer/url?id=1883088998.mp3\",\n        fontColor: \"fontColorgray\"\n      }, {\n        name: \"Childhood Memory\",\n        src: \"https://music.163.com/song/media/outer/url?id=401767.mp3\",\n        fontColor: \"fontColorgray\"\n      }, {\n        name: \"Kiss The Rain\",\n        src: \"https://music.163.com/song/media/outer/url?id=28411989.mp3\",\n        fontColor: \"fontColorgray\"\n      }, {\n        name: \"Sundial Dreams\",\n        src: \"https://music.163.com/song/media/outer/url?id=5226753.mp3\",\n        fontColor: \"fontColorgray\"\n      }, {\n        name: \"Tears\",\n        src: \"https://music.163.com/song/media/outer/url?id=5331915.mp3\",\n        fontColor: \"fontColorgray\"\n      }],\n      bgmusic: []\n    };\n  },\n  mounted: function mounted() {\n    this.bgmusic = document.querySelectorAll(\".bgmusicAudio\"); // this.$nextTick(() => {\n    //   this.autoplayBgmusic()\n    // })\n  },\n  methods: {\n    //背景音乐播放/暂停\n    playbgMusic: function playbgMusic(idx) {\n      this.bgmusic.forEach(function (item, index) {\n        if (item.paused && index === idx) {\n          item.play();\n        } else {\n          item.pause();\n        }\n      }); // this.bgmusic[index].play()\n    },\n    //背景音乐播放时触发\n    bgmusicPlayed: function bgmusicPlayed() {\n      var _this = this;\n\n      this.bgmusic.forEach(function (item, index) {\n        if (item.paused) {\n          _this.bgmusicSrc[index].fontColor = \"fontColorgray\";\n        } else {\n          _this.bgmusicSrc[index].fontColor = \"fontColorgreen\";\n        }\n      });\n    },\n    //背景音乐重头播放\n    reloadbgMusic: function reloadbgMusic(idx) {\n      this.bgmusic.forEach(function (item, index) {\n        if (item.paused && index === idx) {\n          item.load(); //重新加载音频\n\n          item.play(); //播放\n        } else {\n          item.load(); //重新加载\n        }\n      });\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2BA;AACAA,MADA,kBACA;AACA;AACAC,mBACA;AACAC,qBADA;AAEAC,2EAFA;AAGAC;AAHA,OADA,EAMA;AACAF,6BADA;AAEAC,2EAFA;AAGAC;AAHA,OANA,EAWA;AACAF,gCADA;AAEAC,uEAFA;AAGAC;AAHA,OAXA,EAgBA;AACAF,6BADA;AAEAC,yEAFA;AAGAC;AAHA,OAhBA,EAqBA;AACAF,8BADA;AAEAC,wEAFA;AAGAC;AAHA,OArBA,EA0BA;AACAF,qBADA;AAEAC,wEAFA;AAGAC;AAHA,OA1BA,CADA;AAiCAC;AAjCA;AAmCA,GArCA;AAsCAC,SAtCA,qBAsCA;AACA,8DADA,CAEA;AACA;AACA;AACA,GA3CA;AA4CAC;AACA;AACAC,eAFA,uBAEAC,GAFA,EAEA;AACA;AACA;AACAC;AACA,SAFA,MAEA;AACAA;AACA;AACA,OANA,EADA,CAQA;AACA,KAXA;AAYA;AACAC,iBAbA,2BAaA;AAAA;;AACA;AACA;AACA;AACA,SAFA,MAEA;AACA;AACA;AACA,OANA;AAOA,KArBA;AAsBA;AACAC,iBAvBA,yBAuBAH,GAvBA,EAuBA;AACA;AACA;AACAC,sBADA,CACA;;AACAA,sBAFA,CAEA;AACA,SAHA,MAGA;AACAA,sBADA,CACA;AACA;AACA,OAPA;AAQA;AAhCA;AA5CA","names":["data","bgmusicSrc","name","src","fontColor","bgmusic","mounted","methods","playbgMusic","idx","item","bgmusicPlayed","reloadbgMusic"],"sourceRoot":"src/components","sources":["bgmusic.vue"],"sourcesContent":["<template>\r\n\r\n  <div class=\"bgmusicWrap\">\r\n    <div>推荐音乐</div>\r\n    <ul class=\"bgmusic-ul\">\r\n      <li\r\n        v-for=\"(item,index) in bgmusicSrc\"\r\n        :key=\"item.src\"\r\n        :class=\"['bgmusic-li',item.fontColor]\"\r\n        @dblclick=\"reloadbgMusic(index)\"\r\n        @click=\"playbgMusic(index)\"\r\n      >\r\n        <audio\r\n          class=\"bgmusicAudio\"\r\n          :src=\"item.src\"\r\n          @play=\"bgmusicPlayed\"\r\n          type=\"video/mp3\"\r\n        ></audio>\r\n        <span>{{item.name}}</span>\r\n      </li>\r\n\r\n    </ul>\r\n  </div>\r\n\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      bgmusicSrc: [\r\n        {\r\n          name: \"夏天的日子\",\r\n          src: \"https://music.163.com/song/media/outer/url?id=1965308597.mp3\",\r\n          fontColor: \"fontColorgray\",\r\n        },\r\n        {\r\n          name: \"带走我的心啊 把他藏在行囊\",\r\n          src: \"https://music.163.com/song/media/outer/url?id=1883088998.mp3\",\r\n          fontColor: \"fontColorgray\",\r\n        },\r\n        {\r\n          name: \"Childhood Memory\",\r\n          src: \"https://music.163.com/song/media/outer/url?id=401767.mp3\",\r\n          fontColor: \"fontColorgray\",\r\n        },\r\n        {\r\n          name: \"Kiss The Rain\",\r\n          src: \"https://music.163.com/song/media/outer/url?id=28411989.mp3\",\r\n          fontColor: \"fontColorgray\",\r\n        },\r\n        {\r\n          name: \"Sundial Dreams\",\r\n          src: \"https://music.163.com/song/media/outer/url?id=5226753.mp3\",\r\n          fontColor: \"fontColorgray\",\r\n        },\r\n        {\r\n          name: \"Tears\",\r\n          src: \"https://music.163.com/song/media/outer/url?id=5331915.mp3\",\r\n          fontColor: \"fontColorgray\",\r\n        },\r\n      ],\r\n      bgmusic: [],\r\n    };\r\n  },\r\n  mounted() {\r\n    this.bgmusic = document.querySelectorAll(\".bgmusicAudio\");\r\n    // this.$nextTick(() => {\r\n    //   this.autoplayBgmusic()\r\n    // })\r\n  },\r\n  methods: {\r\n    //背景音乐播放/暂停\r\n    playbgMusic(idx) {\r\n      this.bgmusic.forEach((item, index) => {\r\n        if (item.paused && index === idx) {\r\n          item.play();\r\n        } else {\r\n          item.pause();\r\n        }\r\n      });\r\n      // this.bgmusic[index].play()\r\n    },\r\n    //背景音乐播放时触发\r\n    bgmusicPlayed() {\r\n      this.bgmusic.forEach((item, index) => {\r\n        if (item.paused) {\r\n          this.bgmusicSrc[index].fontColor = \"fontColorgray\";\r\n        } else {\r\n          this.bgmusicSrc[index].fontColor = \"fontColorgreen\";\r\n        }\r\n      });\r\n    },\r\n    //背景音乐重头播放\r\n    reloadbgMusic(idx) {\r\n      this.bgmusic.forEach((item, index) => {\r\n        if (item.paused && index === idx) {\r\n          item.load(); //重新加载音频\r\n          item.play(); //播放\r\n        } else {\r\n          item.load(); //重新加载\r\n        }\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" >\r\n.bgmusicWrap {\r\n  position: absolute;\r\n  top: 0;\r\n  right: 5px;\r\n  width: 250px;\r\n  color: #ccc;\r\n  max-height: 20px;\r\n  text-align: center;\r\n  overflow: hidden;\r\n  transition: 0.3s;\r\n  &:hover {\r\n    // max-height: 500px;\r\n  }\r\n  .bgmusic-ul {\r\n    width: 100%;\r\n    text-align: center;\r\n    transition: 0.2s;\r\n    max-height: 100px;\r\n    overflow-x: hidden;\r\n    scr\r\n    .bgmusic-li {\r\n      height: 30px;\r\n      line-height: 30px;\r\n      // padding: 0 10px;\r\n      // background: rgba(160, 160, 160, 0.096);\r\n      border-radius: 10px;\r\n      transition: 0.2s;\r\n      &:hover {\r\n        cursor: pointer;\r\n        color: rgb(29, 236, 167);\r\n        transform: scale(1.01);\r\n      }\r\n    }\r\n  }\r\n}\r\n.fontColorgreen {\r\n  color: rgb(29, 236, 167);\r\n}\r\n.fontColorgray {\r\n  color: #ccc;\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}