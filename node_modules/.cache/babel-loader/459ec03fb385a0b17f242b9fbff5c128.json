{"ast":null,"code":"import _createForOfIteratorHelper from \"C:/Users/Wacht/Desktop/git/cloudMusic-Source-Code/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\nimport \"core-js/modules/es.json.stringify.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { getAlbumContent as _getAlbumContent, getDownloadUrl } from \"@/api/api\";\nimport { transMusicTime, download } from \"@/utils/commonApi\";\nimport songlist from \"@/components/songlist.vue\";\nexport default {\n  components: {\n    songlist: songlist\n  },\n  data: function data() {\n    return {\n      listen: [],\n      albumId: \"\",\n      albumSongs: [],\n      albumDesc: {\n        artist: {\n          img1v1Url: \"\"\n        }\n      }\n    };\n  },\n  mounted: function mounted() {\n    //进入专辑详情，判断是否有路由信息传入\n    if (this.$route.params.albumDesc) {\n      this.albumDesc = this.$route.params.albumDesc;\n      localStorage.setItem(\"albumDesc\", JSON.stringify(this.$route.params.albumDesc));\n      this.getAlbumContent();\n    } else {\n      //没有路由信息，说明刷新了页面，则尝试使用之前的缓存信息\n      this.albumDesc = JSON.parse(localStorage.getItem(\"albumDesc\"));\n    } //获取专辑信息\n\n\n    this.getAlbumContent();\n  },\n  methods: {\n    getAlbumContent: function getAlbumContent() {\n      var that = this;\n      var params = {\n        id: that.albumDesc.id\n      };\n\n      _getAlbumContent(params).then(function (res) {\n        // console.log(\"专辑信息---：\", res.data.album);\n        // console.log(\"专辑歌曲---：\", res.data.songs);\n        that.albumSongs = res.data.songs;\n        that.albumDesc = res.data.album; //给每个列表添加一个防抖\n\n        var _iterator = _createForOfIteratorHelper(that.albumSongs),\n            _step;\n\n        try {\n          for (_iterator.s(); !(_step = _iterator.n()).done;) {\n            var item = _step.value;\n            that.$set(item, \"timer\", true);\n          }\n        } catch (err) {\n          _iterator.e(err);\n        } finally {\n          _iterator.f();\n        }\n\n        var dt = \"dt\";\n        transMusicTime(that.albumSongs, dt);\n      });\n    } //根据主题更换播放器颜色\n    // randomColor() {\n    //   return `#${((Math.random() * 0xffffff) << 0).toString(16)}`\n    // },\n\n  }\n};","map":null,"metadata":{},"sourceType":"module"}