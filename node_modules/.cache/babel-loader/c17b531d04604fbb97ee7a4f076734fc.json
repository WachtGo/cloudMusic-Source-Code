{"ast":null,"code":"import _asyncToGenerator from \"D:/data/\\u684C\\u9762/\\u4EE3\\u7801\\u6587\\u4EF6\\u5939/git/cloudMusic-Source-Code-main/cloudMusic-Source-Code-main/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"regenerator-runtime/runtime.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport \"core-js/modules/es.function.name.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { getSingerlist as _getSingerlist } from \"@/api/api\";\nexport default {\n  data: function data() {\n    return {\n      type: \"-1\",\n      area: \"-1\",\n      align: \"热门\",\n      categaryShow: false,\n      initialtitle: [\"热门\", \"序号\"],\n      initialData: {\n        0: [{\n          order: \"热门\",\n          orderValue: \"a\"\n        }],\n        1: [{\n          order: \"A\",\n          orderValue: \"a\"\n        }, {\n          order: \"B\",\n          orderValue: \"b\"\n        }, {\n          order: \"C\",\n          orderValue: \"c\"\n        }, {\n          order: \"D\",\n          orderValue: \"d\"\n        }, {\n          order: \"E\",\n          orderValue: \"e\"\n        }, {\n          order: \"F\",\n          orderValue: \"f\"\n        }, {\n          order: \"G\",\n          orderValue: \"g\"\n        }, {\n          order: \"F\",\n          orderValue: \"f\"\n        }, {\n          order: \"H\",\n          orderValue: \"h\"\n        }, {\n          order: \"I\",\n          orderValue: \"i\"\n        }, {\n          order: \"J\",\n          orderValue: \"j\"\n        }, {\n          order: \"K\",\n          orderValue: \"k\"\n        }, {\n          order: \"L\",\n          orderValue: \"l\"\n        }, {\n          order: \"M\",\n          orderValue: \"m\"\n        }, {\n          order: \"N\",\n          orderValue: \"n\"\n        }, {\n          order: \"O\",\n          orderValue: \"o\"\n        }, {\n          order: \"P\",\n          orderValue: \"p\"\n        }, {\n          order: \"Q\",\n          orderValue: \"q\"\n        }, {\n          order: \"R\",\n          orderValue: \"r\"\n        }, {\n          order: \"S\",\n          orderValue: \"s\"\n        }, {\n          order: \"T\",\n          orderValue: \"t\"\n        }, {\n          order: \"U\",\n          orderValue: \"u\"\n        }, {\n          order: \"V\",\n          orderValue: \"v\"\n        }, {\n          order: \"W\",\n          orderValue: \"w\"\n        }, {\n          order: \"X\",\n          orderValue: \"x\"\n        }, {\n          order: \"Y\",\n          orderValue: \"y\"\n        }, {\n          order: \"Z\",\n          orderValue: \"z\"\n        }]\n      },\n      initial: \"-1\",\n      singerType: [{\n        type: \"-1\",\n        typeName: \"全部\"\n      }, {\n        type: \"1\",\n        typeName: \"男歌手\"\n      }, {\n        type: \"2\",\n        typeName: \"女歌手\"\n      }, {\n        type: \"3\",\n        typeName: \"乐队\"\n      }],\n      singerArea: [{\n        area: \"-1\",\n        areaName: \"全部\"\n      }, {\n        area: \"7\",\n        areaName: \"华语\"\n      }, {\n        area: \"96\",\n        areaName: \"欧美\"\n      }, {\n        area: \"8\",\n        areaName: \"日本\"\n      }, {\n        area: \"16\",\n        areaName: \"韩国\"\n      }, {\n        area: \"0\",\n        areaName: \"其他\"\n      }],\n      typeareaElement: [],\n      singerList: [],\n      count: 999,\n      //初始页\n      currentPage: 1\n    };\n  },\n  watch: {\n    //排列顺序发生变化时，自动获取\n    initial: function initial() {\n      this.getSingerlist(this.type, this.area);\n    }\n  },\n  mounted: function mounted() {\n    this.typeElement = document.querySelectorAll(\".singer-type\");\n    this.areaElement = document.querySelectorAll(\".singer-area\");\n    this.getSingerlist(this.currentTag);\n  },\n  methods: {\n    //更改点击样式，方便查看选择的歌手类型和地区\n    checkedStyle: function checkedStyle(element, idx) {\n      // console.log(element)\n      element.forEach(function (item, index) {\n        if (idx === index) {\n          item.classList.add(\"type-area-checked\");\n        } else {\n          if (item.classList.contains(\"type-area-checked\")) {\n            item.classList.remove(\"type-area-checked\");\n          }\n        }\n      });\n    },\n    areaStyle: function areaStyle() {},\n    //获取歌手列表----\n    getSingerlist: function getSingerlist(type, area) {\n      var _this = this;\n\n      return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n        var that, params;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                that = _this;\n                that.type = type;\n                that.area = area;\n                params = {\n                  type: that.type,\n                  area: that.area,\n                  initial: _this.initial,\n                  limit: 9,\n                  offset: (that.currentPage - 1) * 9\n                }; // that.categaryShow = false\n                // if (that.currentTag === cat && notChangePage) return\n\n                that.singerList = []; //清空，重新获取，防止页面图片加载慢\n\n                _context2.next = 7;\n                return _getSingerlist(params).then( /*#__PURE__*/function () {\n                  var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(res) {\n                    return regeneratorRuntime.wrap(function _callee$(_context) {\n                      while (1) {\n                        switch (_context.prev = _context.next) {\n                          case 0:\n                            _context.next = 2;\n                            return res.data.artists;\n\n                          case 2:\n                            that.singerList = _context.sent;\n\n                          case 3:\n                          case \"end\":\n                            return _context.stop();\n                        }\n                      }\n                    }, _callee);\n                  }));\n\n                  return function (_x) {\n                    return _ref.apply(this, arguments);\n                  };\n                }());\n\n              case 7:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }))();\n    },\n    //获取歌手详情\n    goSingerDetail: function goSingerDetail(singerDetail) {\n      // console.log(singerDetail);\n      var params = {\n        id: singerDetail.id,\n        img1v1Url: singerDetail.img1v1Url,\n        name: singerDetail.name,\n        alias: singerDetail.alias,\n        musicSize: singerDetail.musicSize,\n        albumSize: singerDetail.albumSize,\n        mvSize: singerDetail.mvSize,\n        briefDesc: \"\"\n      };\n      this.$router.push({\n        name: \"singerDetail\",\n        params: {\n          artist: params\n        }\n      });\n    },\n    //分页\n    handleCurrentChange: function handleCurrentChange(currentPage) {\n      // console.log(`当前页: ${currentPage}`);\n      var that = this;\n      that.currentPage = currentPage;\n      that.getSingerlist(that.type, that.area);\n    }\n  }\n};","map":null,"metadata":{},"sourceType":"module"}