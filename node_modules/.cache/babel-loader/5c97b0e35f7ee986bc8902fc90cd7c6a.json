{"ast":null,"code":"import _createForOfIteratorHelper from \"D:/Desktop/git\\u5DE5\\u4F5C\\u533A/cloudMusic-Source-Code/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/es.array.splice.js\";\nimport Vue from 'vue';\nimport Vuex from 'vuex';\nimport createPersistedState from \"vuex-persistedstate\";\nimport { getToken, setToken, removeToken } from \"@/utils/auth\";\nimport { getStorage, setStorage, removeStorage } from \"@/utils/storage\";\nVue.use(Vuex);\nexport default new Vuex.Store({\n  // 歌曲生成周期\n  plugins: [createPersistedState({\n    storage: window.sessionStorage\n  })],\n  state: {\n    // 获取token\n    token: getToken(),\n    //获取本地存储的token\n    token_storage: getStorage(),\n    //歌曲，视频，歌单，歌手等标签开关\n    tagSwitch: {\n      songSwitch: true,\n      albumSwitch: false,\n      singerSwitch: false,\n      playListSwitch: false,\n      videoSwitch: false,\n      mvSwitch: false\n    },\n    audio: [// {\n      //   name: \"这世界那么多人\", //歌曲名\n      //   artist: \"莫文蔚\", //作者\n      //   url: \"http://m801.music.126.net/20220507180637/9a30807211a23c8f25ec13f365eb5ed0/jdymusic/obj/wo3DlMOGwrbDjj7DisKw/14096407591/ba3d/5a07/9eea/2f6a725e7b6519eb18818cd7bb640b7f.mp3\",\n      //   cover: \"https://p2.music.126.net/LOTxqRjFm03VJEOHJbUqMw==/109951165944804127.jpg\",\n      // }\n    ],\n    alplayShow: true\n  },\n  //mutations用于修改state\n  //Async 异步\n  mutations: {\n    //将方法名改成大写，防止在其他组件中出现同名冲突（无法生效）\n    //将token保存在本地存储\n    setSTORAGE: function setSTORAGE(state, tokenName, tokenContent) {\n      setStorage(tokenName, tokenContent);\n    },\n    //保存token\n    setTOKEN: function setTOKEN(state, token) {\n      setToken(token);\n\n      this._vm.$message({\n        type: 'success',\n        message: 'cookie设置成功'\n      });\n    },\n    remoTOKEN: function remoTOKEN(state) {\n      state.token = null;\n      removeToken();\n    },\n    //播放器添加歌曲\n    addSONG: function addSONG(state, song) {\n      var _iterator = _createForOfIteratorHelper(state.audio),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var item = _step.value;\n\n          // if (item.url === song.url) {\n          //   this._vm.$message('播放列表已存在这首歌');\n          //   return\n          // }\n          if (item.artist === song.artist && item.name === song.name) {\n            this._vm.$message('播放列表已存在这首歌');\n\n            return;\n          }\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      state.audio.push(song); //将歌曲添加\n\n      this._vm.$message({\n        type: 'success',\n        message: '歌曲已添加到播放列表'\n      });\n    },\n    //删除歌曲\n    deleteMUSIC: function deleteMUSIC(state, index) {\n      state.audio.splice(index, 1);\n\n      this._vm.$message({\n        type: 'success',\n        message: '歌曲已从列表清除'\n      });\n    },\n    //更换搜索项\n    tagSelect: function tagSelect(state, tag) {\n      for (var key in state.tagSwitch) {\n        if (key != tag) {\n          state.tagSwitch[key] = false;\n        }\n      }\n\n      state.tagSwitch[tag] = true; // console.log('state.tagSwitch----------------', state.tagSwitch)\n    } // //刷新音频播放器\n    // alplayReload(state,change){\n    //   if(change){\n    //      state.alplayShow = false\n    //   setTimeout(()=>{\n    //     state.alplayShow = true\n    //   },1000)\n    //   }\n    // }\n\n  },\n  //actions专门用来做异步处理\n  actions: {}\n});","map":{"version":3,"sources":["D:/Desktop/git工作区/cloudMusic-Source-Code/src/store/index.js"],"names":["Vue","Vuex","createPersistedState","getToken","setToken","removeToken","getStorage","setStorage","removeStorage","use","Store","plugins","storage","window","sessionStorage","state","token","token_storage","tagSwitch","songSwitch","albumSwitch","singerSwitch","playListSwitch","videoSwitch","mvSwitch","audio","alplayShow","mutations","setSTORAGE","tokenName","tokenContent","setTOKEN","_vm","$message","type","message","remoTOKEN","addSONG","song","item","artist","name","push","deleteMUSIC","index","splice","tagSelect","tag","key","actions"],"mappings":"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","sourcesContent":["import Vue from 'vue'\r\nimport Vuex from 'vuex'\r\nimport createPersistedState from \"vuex-persistedstate\"\r\nimport {getToken,setToken,removeToken} from \"@/utils/auth\"\r\nimport {getStorage, setStorage,removeStorage} from \"@/utils/storage\"\r\nVue.use(Vuex)\r\n\r\nexport default new Vuex.Store({\r\n  // 歌曲生成周期\r\n  plugins: [createPersistedState({\r\n    storage: window.sessionStorage\r\n  })],\r\n\r\n  state: {\r\n    // 获取token\r\n    token:getToken(),\r\n    //获取本地存储的token\r\n    token_storage:getStorage(),\r\n    //歌曲，视频，歌单，歌手等标签开关\r\n    tagSwitch: {\r\n      songSwitch: true,\r\n      albumSwitch: false,\r\n      singerSwitch: false,\r\n      playListSwitch: false,\r\n      videoSwitch: false,\r\n      mvSwitch: false,\r\n    },\r\n    audio: [\r\n      // {\r\n      //   name: \"这世界那么多人\", //歌曲名\r\n      //   artist: \"莫文蔚\", //作者\r\n      //   url: \"http://m801.music.126.net/20220507180637/9a30807211a23c8f25ec13f365eb5ed0/jdymusic/obj/wo3DlMOGwrbDjj7DisKw/14096407591/ba3d/5a07/9eea/2f6a725e7b6519eb18818cd7bb640b7f.mp3\",\r\n      //   cover: \"https://p2.music.126.net/LOTxqRjFm03VJEOHJbUqMw==/109951165944804127.jpg\",\r\n      // }\r\n    ],\r\n    alplayShow:true\r\n  },\r\n  //mutations用于修改state\r\n  //Async 异步\r\n  mutations: {//将方法名改成大写，防止在其他组件中出现同名冲突（无法生效）\r\n\r\n    //将token保存在本地存储\r\n    setSTORAGE(state,tokenName,tokenContent){\r\n      setStorage(tokenName,tokenContent)\r\n    }\r\n    ,\r\n    //保存token\r\n    setTOKEN(state,token){\r\n      setToken(token)\r\n      this._vm.$message({\r\n        type: 'success',\r\n        message: 'cookie设置成功',\r\n      });\r\n    },\r\n    remoTOKEN(state){\r\n      state.token = null\r\n      removeToken()\r\n    },\r\n    //播放器添加歌曲\r\n    addSONG(state, song) {\r\n      for (let item of state.audio) {\r\n        // if (item.url === song.url) {\r\n        //   this._vm.$message('播放列表已存在这首歌');\r\n        //   return\r\n        // }\r\n        if (item.artist === song.artist && item.name ===song.name) {\r\n          this._vm.$message('播放列表已存在这首歌');\r\n          return\r\n        }\r\n      }\r\n      state.audio.push(song)//将歌曲添加\r\n      this._vm.$message({\r\n        type: 'success',\r\n        message: '歌曲已添加到播放列表',\r\n      });\r\n    },\r\n    //删除歌曲\r\n    deleteMUSIC(state,index){\r\n      state.audio.splice(index,1)\r\n      this._vm.$message({\r\n        type: 'success',\r\n        message: '歌曲已从列表清除',\r\n      });\r\n    },\r\n    //更换搜索项\r\n    tagSelect(state, tag) {\r\n      for (let key in state.tagSwitch) {\r\n        if (key != tag) {\r\n          state.tagSwitch[key] = false;\r\n        }\r\n      }\r\n      state.tagSwitch[tag] = true;\r\n      // console.log('state.tagSwitch----------------', state.tagSwitch)\r\n    },\r\n    \r\n    // //刷新音频播放器\r\n    // alplayReload(state,change){\r\n    //   if(change){\r\n    //      state.alplayShow = false\r\n    //   setTimeout(()=>{\r\n    //     state.alplayShow = true\r\n    //   },1000)\r\n    //   }\r\n    // }\r\n\r\n  },\r\n  //actions专门用来做异步处理\r\n  actions: {\r\n\r\n  }\r\n})"]},"metadata":{},"sourceType":"module"}