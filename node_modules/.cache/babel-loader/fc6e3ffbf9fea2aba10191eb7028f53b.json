{"ast":null,"code":"import _createForOfIteratorHelper from \"D:/Desktop/git/cloudMusic-Source-Code/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\nimport \"core-js/modules/es.array.splice.js\";\nimport createPersistedState from \"vuex-persistedstate\";\nvar aplayer = {\n  namespaced: true,\n  state: {\n    // 歌曲生成周期\n    plugins: [createPersistedState({\n      storage: window.sessionStorage\n    })],\n    audio: [],\n    //播放列表音乐\n    audition: [],\n    //试听歌曲\n    musicAudioStatu: 0,\n    //控制audio,audition两个播放器显示\n    alplayShow: true\n  },\n  actions: {},\n  mutations: {\n    //播放器添加歌曲\n    addSONG: function addSONG(state, song) {\n      var _iterator = _createForOfIteratorHelper(state.audio),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var item = _step.value;\n\n          // if (item.url === song.url) {\n          //   this._vm.$message('播放列表已存在这首歌');\n          //   return\n          // }\n          if (item.id === song.id) {\n            this._vm.$message('播放列表已存在这首歌');\n\n            return;\n          }\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      state.audio.push(song); //将歌曲添加\n\n      this._vm.$message({\n        type: 'success',\n        message: '歌曲已添加到播放列表'\n      });\n    },\n    //删除歌曲\n    deleteMUSIC: function deleteMUSIC(state, index) {\n      state.audio.splice(index, 1);\n\n      this._vm.$message({\n        type: 'success',\n        message: '歌曲已移出播放列表'\n      });\n    },\n    addAUDITION: function addAUDITION(state, song) {\n      var _iterator2 = _createForOfIteratorHelper(state.audition),\n          _step2;\n\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var item = _step2.value;\n\n          if (item.id === song.id) {\n            this._vm.$message('正在试听这首歌');\n\n            return;\n          }\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n\n      state.musicAudioStatu = 1;\n      state.audition.splice(0, 1);\n      state.audition[0] = song; //将歌曲添加\n\n      this._vm.$message({\n        type: 'success',\n        message: '歌曲已添加到试听'\n      });\n    },\n    deleteAUDITION: function deleteAUDITION(state, index) {\n      state.audition.splice(index, 1);\n\n      this._vm.$message({\n        type: 'success',\n        message: '歌曲已移出试听列表'\n      });\n    },\n    //更换播放器\n    changeAPLAYER: function changeAPLAYER(state, statu) {\n      statu === 1 ? state.musicAudioStatu = 1 : state.musicAudioStatu = 0;\n    }\n  }\n};\nexport default {\n  aplayer: aplayer\n};","map":{"version":3,"sources":["D:/Desktop/git/cloudMusic-Source-Code/src/store/aplayer.js"],"names":["createPersistedState","aplayer","namespaced","state","plugins","storage","window","sessionStorage","audio","audition","musicAudioStatu","alplayShow","actions","mutations","addSONG","song","item","id","_vm","$message","push","type","message","deleteMUSIC","index","splice","addAUDITION","deleteAUDITION","changeAPLAYER","statu"],"mappings":"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","sourcesContent":["import createPersistedState from \"vuex-persistedstate\"\r\nconst aplayer = {\r\n\tnamespaced :true,\r\n\tstate:{\r\n\t\t// 歌曲生成周期\r\n\t\tplugins: [createPersistedState({\r\n\t\t\tstorage: window.sessionStorage\r\n\t\t})],\r\n\t\taudio: [],//播放列表音乐\r\n    audition:[],//试听歌曲\r\n    musicAudioStatu:0,//控制audio,audition两个播放器显示\r\n    alplayShow:true\r\n\t},\r\n\tactions:{\r\n\r\n\t},\r\n\tmutations:{\r\n\t\t\t//播放器添加歌曲\r\n\t\t\taddSONG(state, song) {\r\n\t\t\t\tfor (let item of state.audio) {\r\n\t\t\t\t\t// if (item.url === song.url) {\r\n\t\t\t\t\t//   this._vm.$message('播放列表已存在这首歌');\r\n\t\t\t\t\t//   return\r\n\t\t\t\t\t// }\r\n\t\t\t\t\tif (item.id === song.id) {\r\n\t\t\t\t\t\tthis._vm.$message('播放列表已存在这首歌');\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tstate.audio.push(song)//将歌曲添加\r\n\t\t\t\tthis._vm.$message({\r\n\t\t\t\t\ttype: 'success',\r\n\t\t\t\t\tmessage: '歌曲已添加到播放列表',\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t//删除歌曲\r\n\t\t\tdeleteMUSIC(state,index) {\r\n\t\t\t\tstate.audio.splice(index,1)\r\n\t\t\t\tthis._vm.$message({\r\n\t\t\t\t\ttype: 'success',\r\n\t\t\t\t\tmessage: '歌曲已移出播放列表',\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\taddAUDITION(state,song) {\r\n\t\t\t\tfor (let item of state.audition) {\r\n\t\t\t\t\tif (item.id === song.id) {\r\n\t\t\t\t\t\tthis._vm.$message('正在试听这首歌');\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tstate.musicAudioStatu = 1\r\n\t\t\t\tstate.audition.splice(0,1)\r\n\t\t\t\tstate.audition[0] = song//将歌曲添加\r\n\t\t\t\tthis._vm.$message({\r\n\t\t\t\t\ttype: 'success',\r\n\t\t\t\t\tmessage: '歌曲已添加到试听',\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tdeleteAUDITION(state,index) {\r\n\t\t\t\tstate.audition.splice(index,1)\r\n\t\t\t\tthis._vm.$message({\r\n\t\t\t\t\ttype: 'success',\r\n\t\t\t\t\tmessage: '歌曲已移出试听列表',\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t//更换播放器\r\n\t\t\tchangeAPLAYER(state,statu) {\r\n\t\t\t\tstatu === 1 ? state.musicAudioStatu = 1 : state.musicAudioStatu = 0\r\n\t\t\t},\r\n\t}\r\n}\r\nexport default {\r\n\taplayer\r\n}"]},"metadata":{},"sourceType":"module"}